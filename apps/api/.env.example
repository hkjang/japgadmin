# ===========================================
# PostgreSQL Admin Tool - API Configuration
# ===========================================

# Server Configuration
NODE_ENV=development
PORT=3001

# ===========================================
# Database Configuration
# ===========================================

# Metrics Database (TimescaleDB) - Used for storing metrics, audit logs, etc.
METRICS_DB_URL=postgresql://postgres:postgres@localhost:5433/metrics_db?schema=public
METRICS_DB_HOST=localhost
METRICS_DB_PORT=5433
METRICS_DB_USER=postgres
METRICS_DB_PASSWORD=postgres
METRICS_DB_NAME=metrics_db

# Target Database - Default database to monitor (legacy, use inventory for multiple)
TARGET_DB_URL=postgresql://postgres:postgres@localhost:5434/target_db
TARGET_DB_HOST=localhost
TARGET_DB_PORT=5434
TARGET_DB_USER=postgres
TARGET_DB_PASSWORD=postgres
TARGET_DB_NAME=target_db

# ===========================================
# Authentication & Security
# ===========================================

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=your-refresh-token-secret-change-this
JWT_REFRESH_EXPIRES_IN=7d

# Encryption Key for credentials (32 bytes hex)
ENCRYPTION_KEY=0123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef

# Default Admin Account (created on first startup)
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_PASSWORD=admin
DEFAULT_ADMIN_EMAIL=admin@localhost

# ===========================================
# Redis Configuration (for BullMQ Job Queue)
# ===========================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ===========================================
# Monitoring & Alerting
# ===========================================

# Metrics Collection Interval (ms)
METRICS_COLLECTION_INTERVAL=60000

# Alert Thresholds
ALERT_MAX_CONNECTIONS=80
ALERT_QUERY_TIME_MS=5000
ALERT_AUTOVACUUM_THRESHOLD=10

# Alert Webhook URLs (optional)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
DISCORD_WEBHOOK_URL=
TEAMS_WEBHOOK_URL=

# Email Configuration (optional)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@pgadmin.local

# ===========================================
# Backup Configuration (optional)
# ===========================================

# AWS S3 (for backup storage)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=ap-northeast-2
AWS_S3_BUCKET=

# Local Backup Path
LOCAL_BACKUP_PATH=/var/backups/postgres

# ===========================================
# External Integrations (optional)
# ===========================================

# HashiCorp Vault (for credential management)
VAULT_ADDR=
VAULT_TOKEN=

# ===========================================
# Logging
# ===========================================

LOG_LEVEL=info
LOG_FORMAT=json

# ===========================================
# CORS Configuration
# ===========================================

CORS_ORIGINS=http://localhost:3000,http://localhost:3001
